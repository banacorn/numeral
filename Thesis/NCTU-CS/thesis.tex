\documentclass[12pt,a4paper,oneside]{book}
\linespread{1.5}

\usepackage{authblk}
% for unicode symbols
\usepackage{fontspec}
\setmonofont{DejaVu Sans Mono}

% for maths symbols
\usepackage{mathtools}
\usepackage{bm}

% for positioning tables and figures
\usepackage{float}

% for diagrams
\usepackage{tikz}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{matrix,arrows}
\usetikzlibrary{positioning}
\usetikzlibrary{calc}
\usetikzlibrary{decorations.pathreplacing}

% for tables
\usepackage{adjustbox}
\usepackage{multirow}

% images
\usepackage{graphicx}
\graphicspath{ {images/}{../images/} }

\usepackage{color}
\definecolor{light-gray}{gray}{0.9}
\definecolor{airforceblue}{rgb}{0.36, 0.54, 0.66}
\definecolor{alizarin}{rgb}{0.90, 0.30, 0.23}

\usepackage{listings}
\lstset{ %
  % basicstyle=\ttfamily,              % the size of the fonts that are used for the code
  basicstyle=\ttfamily\footnotesize,              % the size of the fonts that are used for the code
  backgroundcolor=\color{light-gray},
  xleftmargin=0.5cm,
  frame=tlbr,
  framesep=10pt,
  framerule=0pt
}

% hyperlinked cross references
\usepackage{hyperref}
\hypersetup{
    unicode=true,
    colorlinks=true,
    linkcolor=black,          % color of internal links (change box color with linkbordercolor)
    citecolor=black,        % color of links to bibliography
    filecolor=black,      % color of file links
    urlcolor=black           % color of external links
}

% border setting
\usepackage[ top=2.5cm,bottom=2.5cm,left=2.5cm,right=2.5cm ]{geometry}

% The default for LaTeX is to have no indent after sectional headings, like \chapter and \section. ()
\usepackage{indentfirst}

% http://tex.stackexchange.com/questions/28333/continuous-v-per-chapter-section-numbering-of-figures-tables-and-other-docume
\usepackage{chngcntr}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}

% This prevents placing floats before a section
\usepackage[section]{placeins}
\let\Oldsubsection\subsection
\renewcommand{\subsection}{\FloatBarrier\Oldsubsection}

% % source code hightlighting
% \usepackage{listings}
% \lstset{
%   numbers=left,
%   stepnumber=1,
%   firstnumber=1,
%   captionpos=b,
%   tabsize=2,
%   basicstyle=\small,
%   numberfirstline=true
% }

% for multiple tex files
\usepackage{subfiles}
\providecommand{\main}{.} % relative path to master.tex

% setting the page number to footer
\usepackage{fancyhdr}
\fancyhf{}
\cfoot{\thepage}
\pagestyle{fancy}
% no header and footer bar
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% setup bibliography
% \usepackage[sorting=none,backend=bibtex]{biblatex}
% \addbibresource{thesis.bib}

% line height setting
\linespread{1.5}
\usepackage{setspace}

% % Graphics settings
% \usepackage{graphicx}
% \graphicspath{ {./figures/} }

\usepackage{background}
\newcommand\DeactivateBG{\backgroundsetup{contents={}}}
\newcommand\ActivateBG{
  \backgroundsetup{
      contents={\includegraphics[]{logo.jpg}},
      scale=1,
      opacity=0.4,
      angle=0
  }
}

% do not place figure at the middle of a empty page
\makeatletter
\setlength{\@fptop}{0pt}
\makeatother

% Chinese typesetting
\usepackage{xeCJK}

% only on Mac
\setCJKmainfont[BoldFont=STHeiti,ItalicFont=STKaiti]{STSong}
\setCJKsansfont[BoldFont=STHeiti]{STXihei}
\setCJKmonofont{STFangsong}


% \setCJKmainfont{SourceHanSansTW-Light.otf}
% \setCJKmainfont[
%   BoldFont={fonts/SourceHanSansTC-Normal.otf},
%   ItalicFont={fonts/SourceHanSansTC-Light.otf}
% ]{fonts/SourceHanSansTC-Light.otf}
% \newcommand{\myHuge}[1]{\fontsize{40}{50} #1}

\newcommand{\chineseTitle}{一般化位值計數系統}
\newcommand{\englishTitle}{Generalizing Positional Numeral Systems}

\newcommand{\studentCnName}{賴廷彥}
\newcommand{\studentEnName}{Luā Tîng-Giān}
\newcommand{\advisorCnName}{穆信成、楊武}
\newcommand{\advisorEnName}{Shin-Cheng Mu, Wuu Yang}

\usepackage{pdfpages}

\begin{document}

\pagenumbering{gobble} % disabling page numbering

\ActivateBG

\input{cover1.tex}
\input{cover2.tex}

\DeactivateBG

% 放審定書和授權書
% \includepdf[pages={1-2}]{auth.pdf}

\ActivateBG

\frontmatter
\subfile{abstract_chinese.tex}
\subfile{abstract_english.tex}
\subfile{tex/Acknowledgements.tex}

\tableofcontents
\listoffigures
\listoftables
\mainmatter

% \chapter{Introduction} \pagenumbering{arabic} % enabling page numbering
% \pagenumbering{arabic}
\subfile{tex/introduction.tex}
\subfile{tex/generalizations.tex}
\subfile{tex/agda.tex}
\subfile{tex/props.tex}
\subfile{tex/constructions.tex}
\subfile{tex/translation.tex}
\subfile{tex/conclusion.tex}

\newpage

% \printbibliography[title={References}]
\bibliographystyle{abbrv}
\bibliography{thesis}

\end{document}
